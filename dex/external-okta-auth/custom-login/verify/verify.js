const OktaJwtVerifier = require('@okta/jwt-verifier');

const oktaJwtVerifier = new OktaJwtVerifier({
  issuer: 'https://dev-171713/oauth2/default' // issuer required
});

const accessTokenString='eyJraWQiOiJOTk1HZ19BUFNLeHU5N0l2dXRTNjRZdk5VTDU3cl8zRFpSV0xzLVA2MmV3IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIwMHVmM3FmaXdvVk1ZNDh3ZjR4NiIsIm5hbWUiOiJTdGV2ZW4gUG9sbG9jayIsImVtYWlsIjoiamFja3NvbnAyMDA4QGdtYWlsLmNvbSIsInZlciI6MSwiaXNzIjoiaHR0cHM6Ly9kZXYtMTcxNzEzLm9rdGEuY29tL29hdXRoMi9kZWZhdWx0IiwiYXVkIjoiMG9hZmR3YXB5VWVvSjZkdlU0eDYiLCJpYXQiOjE1OTI1MTA0MzcsImV4cCI6MTU5MjUxNDAzNywianRpIjoiSUQuNl9zS21LT3ZwQnNLR19RbnlRekVWU2xEQ3BjbzRISWlOdWpsMTVYNlRlbyIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvZjBzb29uNkNQSWpPNjA0eDYiLCJub25jZSI6IjU5NzQ3YzM3LTRhNGEtNDk1Yy1hNDIwLWY1ZDgxNDQ3YzFjOSIsInByZWZlcnJlZF91c2VybmFtZSI6ImphY2tzb25wMjAwOEBnbWFpbC5jb20iLCJhdXRoX3RpbWUiOjE1OTI1MTA0MzYsImF0X2hhc2giOiJDUkEwOEhtckJTWUgyS093Y0UzUEl3In0.Y6CdtcoCxIMz5pKZfhgpPEq_e_1qnMqJjtJjNrmKhkkHqvgglPWaTELzAfh2RNPSAEv1Ax3E1rkn9cNsNeJ-jeXR0YxKzqsrEdVCOHY6sWc-g7cdM4dRhBdmwysR-zK-dWp9XOITfxjHtsJQHofrLN9aB3YsoHYDBUMBR5zoIkpYYfNhsMDgOlutWrdivryLu26e9LTWek4UH79rHmRywV1o7TQW52OXHo7-eYv59T7i3MRzcdw61TkwySEM1xqLNvfHZBMFF9He30nZnooR8rDQvxSiLwuCJZw9UcQITBtfjQK9QUq_0o12zltW0Cm5vjYeuaPgQS2ntEnXAHm9ng'


// Passing a string for expectedAud
oktaJwtVerifier.verifyAccessToken(accessTokenString, '0oafdwapyUeoJ6dvU4x6')
.then( jwt => console.log('token is valid') )
.catch( err => console.warn('err:token failed validation') );
